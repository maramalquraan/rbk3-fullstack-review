"use strict";function t(t){return o(r,t),c.init(n.bind(null,t))}function n(n,e){function i(t){try{u(n.next(t))}catch(t){e.settle(t)}}function o(t){try{u(n.throw(t))}catch(t){e.settle(t)}}function u(i){var o=i.value,d=i.done,v=r(o)?t(o):o;return d?void e.settle(void 0,v):f(v)?void(s=v.map(c)):void u(n.next(v))}function c(t,n){s=void 0,t?o(t):i(n)}var s=void 0;return i(),function(){try{n.return()}finally{s&&s.deinit(),s=void 0}}}function r(t){return i(t)&&e(t.next)&&e(t.return)&&e(t.throw)}function e(t){return"function"==typeof t}function i(t){return null!=t&&"object"==typeof t}function o(t,n){if(!t(n))throw Error("Expected "+n+" to satisfy test "+t.name)}var u=require("./posterus"),c=u.Future,f=u.isFuture;exports.routine=t;